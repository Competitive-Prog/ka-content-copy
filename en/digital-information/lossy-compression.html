
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Lossy compression (article) | Khan Academy</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
  <style>
.paragraph {
  margin: 10px 0px;
}
img {
  max-width: 600px;
}
.perseus-sr-only {
  display: none;
}
li.perseus-radio-option {
  list-style-type: none;
}
  </style>
</head>
<body>
<div class="container container-md">
<h1>Lossy compression (article) | Khan Academy</h1>
<div class="framework-perseus perseus-article bibliotron-article"><div class="clearfix"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph" data-perseus-paragraph-index="0"><div class="paragraph"><strong>Lossy</strong> compression algorithms are techniques that reduce file size by discarding the less important information. </div></div><div class="paragraph" data-perseus-paragraph-index="1"><div class="paragraph">Nobody likes losing information, but some types of files are so large that there's just not enough space to keep all the original data, plus we didn't need all that data in the first place. That's often the case with photos, videos, and audio recordings; files that try to capture the beautiful complexity of the world we live in. </div></div><div class="paragraph" data-perseus-paragraph-index="2"><div class="paragraph">Computers can capture an incredible amount of detail in a photo‚Äîbut how much of that detail can humans actually perceive? As it turns out, there's a lot of detail that we can remove. Lossy compression algorithms are all about figuring out clever ways to remove detail without humans noticing (too much).</div></div><div class="paragraph" data-perseus-paragraph-index="3"><div class="paragraph">For example, here's a photo of a cat in a hat:
<div class="perseus-widget-container widget-nohighlight widget-block"><div class="perseus-image-widget"><div class="fixed-to-responsive zoomable svg-image" style="max-width: 1600px; max-height: 1200px;"><img alt="Photo of a grey cat with green eyes sitting in a blue hat on a gray chair" aria-hidden="true" src="https://cdn.kastatic.org/ka-perseus-images/249d175f16a1081aaeb64636b4a99ad988871b1d.jpg" tabindex="0"/></div><span class="perseus-sr-only"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph" data-perseus-paragraph-index="0"><div class="paragraph">Photo of a grey cat with green eyes sitting in a blue hat on a gray chair</div></div></div></span><div class="perseus-image-caption"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph" data-perseus-paragraph-index="0"><div class="paragraph">Image source: <a class="_8gcxk83" href="https://www.flickr.com/photos/ampm/3481540600" rel="noopener noreferrer" tabindex="0" target="_blank">admiller, Flickr</a></div></div></div></div></div></div></div></div><div class="paragraph" data-perseus-paragraph-index="4"><div class="paragraph">Here's that same photo, but compressed to <em>half the size</em>:
<div class="fixed-to-responsive zoomable svg-image" style="max-width: 1600px; max-height: 1200px;"><img alt="Photo of a grey cat with green eyes sitting in a blue hat on a gray chair" src="https://cdn.kastatic.org/ka-perseus-images/acf4c90e754c7e8b2f4430908459fb6fca9e8fee.jpg" tabindex="0"/></div></div></div><div class="paragraph" data-perseus-paragraph-index="5"><div class="paragraph">Can you tell the difference? At a quick glance, I can't‚Äî and even if I could with more effort, it'd still be worth saving half the disk space.</div></div><div class="paragraph" data-perseus-paragraph-index="6"><div class="paragraph">Let's explore some of the clever ways that lossy compression algorithms remove detail to reduce file size.</div></div></div></div><div class="clearfix"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph" data-perseus-paragraph-index="0"><h4>Images: Keep the brightness, average the color</h4></div><div class="paragraph" data-perseus-paragraph-index="1"><div class="paragraph">The human eye is better at perceiving differences in brightness than differences in color. A compression algorithm can take advantage of that fact by keeping the brightness while reducing the amount of color information, a process known as chroma subsampling. </div></div><div class="paragraph" data-perseus-paragraph-index="2"><div class="paragraph">Let's try it on the photo of the cat in the hat. The first step is to separate the brightness information from the chroma (color).</div></div><div class="paragraph" data-perseus-paragraph-index="3"><div class="paragraph">Here's the brightness-only version of the photo:
<div class="fixed-to-responsive zoomable svg-image" style="max-width: 1601px; max-height: 1202px;"><img alt="Grayscale photo of a cat sitting in a hat on a chair" src="https://cdn.kastatic.org/ka-perseus-images/49cb4aef0a40e75821ef71c091dc7c2e3cd8b19a.png" tabindex="0"/></div></div></div><div class="paragraph" data-perseus-paragraph-index="4"><div class="paragraph">Here's the chroma-only version:</div></div><div class="paragraph perseus-paragraph-centered" data-perseus-paragraph-index="5"><div class="paragraph"><div class="fixed-to-responsive zoomable svg-image" style="max-width: 1600px; max-height: 1200px;"><img alt="An image with blue in the shape of a hat, green in the shapes of eyes, and mostly gray everywhere else." src="https://cdn.kastatic.org/ka-perseus-images/6470a9e291c57bec7cb4a08cde88fa958a6d9c50.png" tabindex="0"/></div></div></div><div class="paragraph" data-perseus-paragraph-index="6"><div class="paragraph">This photo is interesting because the cat and the chair are both fairly colorless- the blue of the hat is what stands out in the chroma version. (Perhaps we should all own black and white cats, to save disk space? Hmm...)</div></div></div></div><div class="clearfix"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph" data-perseus-paragraph-index="0"><div class="paragraph">Let's zoom into an 8x2 block of chroma from the left eye:</div></div><div class="paragraph perseus-paragraph-centered" data-perseus-paragraph-index="1"><div class="paragraph"><div class="fixed-to-responsive zoomable svg-image" style="max-width: 711px; max-height: 177px;"><img alt="An 8x2 grid of pixels, all different shades of green." src="https://cdn.kastatic.org/ka-perseus-images/30bdb0de7361abd09b0ece7439f4249647ff1326.png" tabindex="0"/></div></div></div><div class="paragraph" data-perseus-paragraph-index="2"><div class="paragraph">Each of those pixels are slightly different chroma values, so there are 16 values total. We can average each 2x2 block and set its color to the average, so that there are only 4 values total:</div></div><div class="paragraph perseus-paragraph-centered" data-perseus-paragraph-index="3"><div class="paragraph"><div class="fixed-to-responsive zoomable svg-image" style="max-width: 712px; max-height: 177px;"><img alt="An 8x2 block of pixels. Each 2x2 block is the same shade of green." src="https://cdn.kastatic.org/ka-perseus-images/605e57ee8a2f5da073a6ec48964da6e71d638383.png" tabindex="0"/></div></div></div><div class="paragraph" data-perseus-paragraph-index="4"><div class="paragraph">The result looks quite similar to the original, but it has a quarter of the original color information. If we apply that to the entire image, we can save a lot of space without affecting perception much.</div></div><div class="paragraph" data-perseus-paragraph-index="5"><div class="paragraph">Chroma subsampling is a process used in many compression algorithms that deal with images, including the popular file formats JPEG and MPEG. </div></div><div class="paragraph" data-perseus-paragraph-index="6"><div class="paragraph">Those algorithms also use a process called discrete cosine transform (DCT) to simplify the details in the brightness layer. If you'd like to learn more, <a class="_8gcxk83" href="http://csfieldguide.org.nz/en/chapters/coding-compression.html#image-compression-using-jpeg" rel="noopener noreferrer" tabindex="0" target="_blank">here's a nice walk-through</a>.</div></div></div></div><div class="clearfix"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph" data-perseus-paragraph-index="0"><h4>Audio: Drop the inaudible sounds</h4></div><div class="paragraph" data-perseus-paragraph-index="1"><div class="paragraph">The human ear has limitations to what it can hear. Audio compression algorithms can analyze an audio file and discard the sounds that are outside our hearing capacity, a process known as perceptual audio coding.</div></div><div class="paragraph" data-perseus-paragraph-index="2"><div class="paragraph">One interesting limitation of our ears is known as temporal masking. That's when a sudden sound can mask (hide) other sounds for a period after it occurs‚Äîand even a bit before! </div></div><div class="paragraph" data-perseus-paragraph-index="3"><div class="paragraph">For example, imagine a song with a loud drum beat. The beat masks sounds for about 20 milliseconds before it happens, and for up to 200 milliseconds after it happens. This graph illustrates the masking effect:</div></div><div class="paragraph" data-perseus-paragraph-index="4"><div class="paragraph"><div class="perseus-widget-container widget-nohighlight widget-block"><div class="perseus-image-widget"><img alt="A graph with time in milliseconds on the x axis, and loudness in decibels on the y axis. A drum beat happens from 140-200ms. The pre-masking effect is a tight curve leading up to the beat, from 100-140ms. The post-masking effect is a more gradual curve, from 200-350ms." aria-hidden="true" src="https://cdn.kastatic.org/ka-perseus-images/155aff990d62570e290c3c2ef9156c8c8f2335a4.svg" tabindex="0"/><span class="perseus-sr-only"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph" data-perseus-paragraph-index="0"><div class="paragraph">A graph with time in milliseconds on the x axis, and loudness in decibels on the y axis. A drum beat happens from 140-200ms. The pre-masking effect is a tight curve leading up to the beat, from 100-140ms. The post-masking effect is a more gradual curve, from 200-350ms.</div></div></div></span><div class="perseus-image-caption"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph" data-perseus-paragraph-index="0"><div class="paragraph">The grey striped areas show the pre-masking and post-masking periods.</div></div></div></div></div></div></div></div><div class="paragraph" data-perseus-paragraph-index="5"><div class="paragraph">The computer sees those hidden sounds in the recorded audio file, but our ears can't hear them, so audio compression algorithms can safely discard that information or represent it with fewer bits.</div></div><div class="paragraph" data-perseus-paragraph-index="6"><div class="paragraph">Compression algorithms can also use other limitations of our natural auditory process, like the high frequency limit and simultaneous masking. If you'd like to learn more, you can research the fascinating field of <strong>psychoacoustics</strong>.</div></div></div></div><div class="clearfix"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph" data-perseus-paragraph-index="0"><h4>Compression quality</h4></div><div class="paragraph" data-perseus-paragraph-index="1"><div class="paragraph">When we use a lossless compression algorithms, we can always reconstruct 100% of the original data. With lossy compression algorithms, we're losing some % of the original data; maybe 5%, maybe 10%, maybe 70%. How much do we lose? We can decide that based on our use case for the data.</div></div><div class="paragraph" data-perseus-paragraph-index="2"><div class="paragraph">Consider the earlier photo of the cat in the hat. If the plan is to put that photo in a presentation about cat fashion and project it on a large screen, we probably want to keep as much detail as possible. In that case, we can either use a lossless compression algorithm (like PNG) or we can use a lossy compression algorithm (like JPEG) and specify a high quality (like 100%). Photo editing applications often give you those options.</div></div><div class="paragraph" data-perseus-paragraph-index="3"><div class="paragraph"><div class="perseus-widget-container widget-nohighlight widget-block"><div class="perseus-image-widget"><div class="fixed-to-responsive svg-image" style="max-width: 500px; max-height: 308px;"><img alt='Screenshot of File settings from Export menu for Adobe Photoshop. For "Format" option, "JPG" is selected. For "Quality" option, slider is set to "100%".' aria-hidden="true" src="https://cdn.kastatic.org/ka-perseus-images/353a79d0009a190e1896f779ee80c324c70ab542.png" tabindex="0"/></div><span class="perseus-sr-only"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph" data-perseus-paragraph-index="0"><div class="paragraph">Screenshot of File settings from Export menu for Adobe Photoshop. For "Format" option, "JPG" is selected. For "Quality" option, slider is set to "100%".</div></div></div></span></div></div></div></div><div class="paragraph" data-perseus-paragraph-index="4"><div class="paragraph">At 100% quality, the 400x300 photo takes up 169 KB of space:</div></div><div class="paragraph" data-perseus-paragraph-index="5"><div class="paragraph"><div class="perseus-widget-container widget-nohighlight widget-block"><div class="perseus-image-widget"><div class="fixed-to-responsive svg-image" style="max-width: 400px; max-height: 300px;"><img alt="Photo of a gray cat with green eyes sitting in a blue hat on a gray couch." aria-hidden="true" src="https://cdn.kastatic.org/ka-perseus-images/190a03866cfefa1d9a87879fe00bcc470d3abd68.jpg" tabindex="0"/></div><span class="perseus-sr-only"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph" data-perseus-paragraph-index="0"><div class="paragraph">Photo of a gray cat with green eyes sitting in a blue hat on a gray couch.</div></div></div></span></div></div></div></div></div></div><div class="clearfix"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph" data-perseus-paragraph-index="0"><div class="paragraph">What if we want to use that photo in a website, and our target users for the website are in another country on low-bandwidth connections? The smaller the file, the faster the download. We want them to see the photo, but for this use case, high quality isn't as important as download speed. We'll definitely want to use a lossy compression algorithm, and we can specify a lower quality when exporting. The algorithm can tweak its internal dials to simplify details even more.</div></div><div class="paragraph" data-perseus-paragraph-index="1"><div class="paragraph"><div class="perseus-widget-container widget-nohighlight widget-block"><div class="perseus-image-widget"><div class="fixed-to-responsive svg-image" style="max-width: 500px; max-height: 262px;"><img alt='Screenshot of File settings from Export menu for Adobe Photoshop. For "Format" option, "JPG" is selected. For "Quality" option, slider is set to "60%".' aria-hidden="true" src="https://cdn.kastatic.org/ka-perseus-images/298bc8728c1b8a844abcd532eb7748b377f89262.png" tabindex="0"/></div><span class="perseus-sr-only"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph" data-perseus-paragraph-index="0"><div class="paragraph">Screenshot of File settings from Export menu for Adobe Photoshop. For "Format" option, "JPG" is selected. For "Quality" option, slider is set to "60%".</div></div></div></span></div></div></div></div><div class="paragraph" data-perseus-paragraph-index="2"><div class="paragraph">At 60% quality, the photo takes up 48 KB:</div></div><div class="paragraph" data-perseus-paragraph-index="3"><div class="paragraph"><div class="perseus-widget-container widget-nohighlight widget-block"><div class="perseus-image-widget"><div class="fixed-to-responsive svg-image" style="max-width: 400px; max-height: 300px;"><img alt="Photo of a gray cat with green eyes sitting in a blue hat on a gray couch." aria-hidden="true" src="https://cdn.kastatic.org/ka-perseus-images/461818097489a6b45df89c9e6cb7be176760ebba.jpg" tabindex="0"/></div><span class="perseus-sr-only"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph" data-perseus-paragraph-index="0"><div class="paragraph">Photo of a gray cat with green eyes sitting in a blue hat on a gray couch.</div></div></div></span></div></div></div></div><div class="paragraph" data-perseus-paragraph-index="4"><div class="paragraph">That still looks pretty good - definitely usable for a low-bandwidth website. How low can we go? Here's the photo at 1% quality:</div></div><div class="paragraph" data-perseus-paragraph-index="5"><div class="paragraph"><div class="perseus-widget-container widget-nohighlight widget-block"><div class="perseus-image-widget"><div class="fixed-to-responsive svg-image" style="max-width: 400px; max-height: 300px;"><img alt="Photo of a gray cat with green eyes sitting in a blue hat on a gray couch." aria-hidden="true" src="https://cdn.kastatic.org/ka-perseus-images/61c34a5153c90f1a086aaf74fbe4c9d7d0e53d54.jpg" tabindex="0"/></div><span class="perseus-sr-only"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph" data-perseus-paragraph-index="0"><div class="paragraph">Photo of a gray cat with green eyes sitting in a blue hat on a gray couch.</div></div></div></span></div></div></div></div><div class="paragraph" data-perseus-paragraph-index="6"><div class="paragraph">It's definitely not perfect‚Äîthe green of the eyes seems to be smearing into the fur, and there are artifacts where the hat meets the chair. But it's also <em>only 12 KB</em>, less than a tenth of the original size. It's impressive how much information we can lose but still convey so much detail.</div></div><div class="paragraph" data-perseus-paragraph-index="7"><div class="paragraph">We can also specify quality for lossy compression algorithms that transform audio and video files. You've probably seen low quality, highly compressed videos around the Web; videos are the most likely to get compressed since they're so large to begin with.</div></div><div class="paragraph" data-perseus-paragraph-index="8"><div class="paragraph">Whenever we use lossy compression, we're always making a trade-off between quality and size, and it's up to us to find the settings that work best for our use case.</div></div></div></div><div class="clearfix"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph perseus-paragraph-centered" data-perseus-paragraph-index="0"><hr/></div><div class="paragraph" data-perseus-paragraph-index="1"><div class="paragraph">üôãüèΩüôãüèª‚Äç‚ôÄÔ∏èüôãüèø‚Äç‚ôÇÔ∏èDo you have any questions about this topic? We'd love to answer‚Äî just ask in the questions area below! <div class="perseus-widget-container widget-nohighlight widget-inline"><div class="_167wsvl"><div class="_pupwzyp"><a aria-expanded="false" class="_13sgcdp7 _7n4oib" href="javascript:void(0)" role="button" tabindex="0">[Where is it?]</a></div></div></div></div></div></div></div></div>
</div>
</body>
</html>
