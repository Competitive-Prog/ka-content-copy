
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Internet routing protocol (article) | Khan Academy</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
  <style>
.paragraph {
  margin: 10px 0px;
}
img {
  max-width: 600px;
}
.perseus-sr-only {
  display: none;
}
li.perseus-radio-option {
  list-style-type: none;
}
  </style>
</head>
<body>
<div class="container container-md">
<h1>Internet routing protocol (article) | Khan Academy</h1>
<div class="framework-perseus perseus-article bibliotron-article"><div class="clearfix"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph" data-perseus-paragraph-index="0"><div class="paragraph">The Internet Protocol (IP) is the protocol that describes how to route messages from one computer to another computer on the network. Each message is split up into packets, and the packets hop from router to router on the way to their destination.</div></div><div class="paragraph" data-perseus-paragraph-index="1"><div class="paragraph"><div class="perseus-widget-container widget-nohighlight widget-block"><div class="perseus-image-widget"><img alt="Diagram of laptop computer sending packet to server computer. A network of 9 routers is shown between the laptop and the server, with various lines connecting them. There's a path from the laptop, through the routers, to the server, highlighted with green arrows." aria-hidden="true" src="https://cdn.kastatic.org/ka-perseus-images/0d415093c4d2160530541f0170204200c89111d3.svg" tabindex="0"/><span class="perseus-sr-only"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph" data-perseus-paragraph-index="0"><div class="paragraph">Diagram of laptop computer sending packet to server computer. A network of 9 routers is shown between the laptop and the server, with various lines connecting them. There's a path from the laptop, through the routers, to the server, highlighted with green arrows.</div></div></div></span></div></div></div></div><div class="paragraph" data-perseus-paragraph-index="2"><div class="paragraph">Let's step through the process of routing a packet from a source to a destination.</div></div></div></div><div class="clearfix"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph" data-perseus-paragraph-index="0"><h3>Step 1: Send packet to router</h3></div><div class="paragraph" data-perseus-paragraph-index="1"><div class="paragraph">Computers send the first packet to the nearest router. A router is a type of computing device used in computer networks that helps move the packets along. </div></div><div class="paragraph" data-perseus-paragraph-index="2"><div class="paragraph"><div class="perseus-widget-container widget-nohighlight widget-block"><div class="perseus-image-widget"><img alt='Diagram with laptop on left and router on right. Arrow goes from laptop to router, with message "TO: 91.198.174.192" and "FROM: 216.3.192.1".' aria-hidden="true" src="https://cdn.kastatic.org/ka-perseus-images/87d07416fa90a3b3497702137b82529e708fe8ca.svg" tabindex="0"/><span class="perseus-sr-only"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph" data-perseus-paragraph-index="0"><div class="paragraph">Diagram with laptop on left and router on right. Arrow goes from laptop to router, with message "TO: 91.198.174.192" and "FROM: 216.3.192.1".</div></div></div></span></div></div></div></div><div class="paragraph" data-perseus-paragraph-index="3"><div class="paragraph">You likely have a router in your home or classroom right now, and that's the first stop for your current computer's packets.</div></div></div></div><div class="clearfix"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph" data-perseus-paragraph-index="0"><h3>Step 2: Router receives packet</h3></div><div class="paragraph" data-perseus-paragraph-index="1"><div class="paragraph">When the router receives a packet, it looks at its IP header. The most important field is the destination IP address, which tells the router where the packet wants to end up.</div></div><div class="paragraph" data-perseus-paragraph-index="2"><div class="perseus-titled-table"><table class='table'><caption class="perseus-table-title"><strong>IP header</strong></caption><thead><tr><th scope="col">Field</th><th scope="col">Content</th></tr></thead><tbody><tr><td>Source IP Address</td><td><code>216.3.192.1</code></td></tr><tr><td><strong>Destination IP Address</strong></td><td><strong><code>91.198.174.192</code></strong></td></tr><tr><td>Version</td><td><code>4</code></td></tr><tr><td>Time to Live</td><td><code>64</code></td></tr><tr><td>... plus 10 more fields!</td><td></td></tr></tbody></table></div></div></div></div><div class="clearfix"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph" data-perseus-paragraph-index="0"><h3>Step 3: Router forwards packet</h3></div><div class="paragraph" data-perseus-paragraph-index="1"><div class="paragraph">The router has multiple paths it could send a packet along, and its goal is to send the packet to a router that's closer to its final destination. </div></div><div class="paragraph" data-perseus-paragraph-index="2"><div class="paragraph"><div class="perseus-widget-container widget-nohighlight widget-block"><div class="perseus-image-widget"><img alt="Diagram with router on left and 3 routers on right. The left router has a line going to each of the right routers, and the lines are labeled 1, 2, and 3. A question mark is shown above each line." aria-hidden="true" src="https://cdn.kastatic.org/ka-perseus-images/183bd62966b5f97862798ab698f62b243f9706e7.svg" tabindex="0"/><span class="perseus-sr-only"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph" data-perseus-paragraph-index="0"><div class="paragraph">Diagram with router on left and 3 routers on right. The left router has a line going to each of the right routers, and the lines are labeled 1, 2, and 3. A question mark is shown above each line.</div></div></div></span></div></div></div></div><div class="paragraph" data-perseus-paragraph-index="3"><div class="paragraph">How does it decide? The router has a <strong>forwarding table</strong> that helps it pick the next path based on the destination IP address. 
That table does <em>not</em> have a row for every possible IP address;  there are <span style="white-space: nowrap;"><span></span><span><span></span><span aria-describedby="katex-uid--1-described-by-id" aria-hidden="true" style="white-space: nowrap;"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>32</mn></msup></mrow><annotation encoding="application/x-tex">2^{32}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></span><span id="katex-uid--1-described-by-id" style="border: 0px; clip: rect(0px, 0px, 0px, 0px); height: 1px; margin: -1px; overflow: hidden; padding: 0px; position: absolute; width: 1px;">2, start superscript, 32, end superscript</span></span><span></span></span> possible IP addresses, and that's far too much to store. Instead, the table has rows for IP address <em>prefixes</em>.</div></div><div class="paragraph" data-perseus-paragraph-index="4"><table class='table'><thead><tr><th scope="col">IP address prefix</th><th scope="col">path</th></tr></thead><tbody><tr><td><code>91.112</code></td><td>#1</td></tr><tr><td><code>91.198</code></td><td>#2</td></tr><tr><td><code>192.92</code></td><td>#3</td></tr><tr><td>...</td><td></td></tr></tbody></table></div><div class="paragraph" data-perseus-paragraph-index="5"><div class="paragraph">IP addresses are hierarchical. When two IP addresses start with the same prefix, that often means they're on the same large network, like the Comcast SF network. Router forwarding tables take advantage of that fact so that they can store far less information.</div></div><div class="paragraph" data-perseus-paragraph-index="6"><div class="paragraph">Once the router locates the most specific row in the table for the destination IP address, it sends the packet along that path.</div></div><div class="paragraph" data-perseus-paragraph-index="7"><div class="paragraph"><div class="perseus-widget-container widget-nohighlight widget-block"><div class="perseus-image-widget"><img alt="Diagram with router on left and 3 routers on right. The left router has a line going to each of the right routers, and the lines are labeled 1, 2, and 3. The second line, labeled 2, is highlighted with green arrows going from left to right, and shows a packet above it." aria-hidden="true" src="https://cdn.kastatic.org/ka-perseus-images/1af152e79fc2bc3c8c3fd54b81abd1675baae846.svg" tabindex="0"/><span class="perseus-sr-only"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph" data-perseus-paragraph-index="0"><div class="paragraph">Diagram with router on left and 3 routers on right. The left router has a line going to each of the right routers, and the lines are labeled 1, 2, and 3. The second line, labeled 2, is highlighted with green arrows going from left to right, and shows a packet above it.</div></div></div></span></div></div></div></div></div></div><div class="clearfix"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph" data-perseus-paragraph-index="0"><h3>Step 4: Final router forwards message</h3></div><div class="paragraph" data-perseus-paragraph-index="1"><div class="paragraph">If all goes well, the packet should eventually arrive at a router that knows exactly where to send it.</div></div><div class="paragraph" data-perseus-paragraph-index="2"><table class='table'><thead><tr><th scope="col">IP address prefix</th><th scope="col">path</th></tr></thead><tbody><tr><td><code>91.112</code></td><td>#1</td></tr><tr><td><code>91.198.174.192</code></td><td>Direct</td></tr><tr><td><code>192.92</code></td><td>#2</td></tr><tr><td>...</td><td></td></tr></tbody></table></div><div class="paragraph" data-perseus-paragraph-index="3"><div class="paragraph">The router can now send the message to the destination IP address, which may be a personal computer or a server.</div></div><div class="paragraph" data-perseus-paragraph-index="4"><div class="paragraph"><div class="perseus-widget-container widget-nohighlight widget-block"><div class="perseus-image-widget"><img alt="Diagram with router on left side and laptop on right side. Arrow goes from router to laptop with packet displayed above it." aria-hidden="true" src="https://cdn.kastatic.org/ka-perseus-images/13d20a2ce2676bc9a15faf0ccbd8d7da33437808.svg" tabindex="0"/><span class="perseus-sr-only"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph" data-perseus-paragraph-index="0"><div class="paragraph">Diagram with router on left side and laptop on right side. Arrow goes from router to laptop with packet displayed above it.</div></div></div></span></div></div></div></div></div></div><div class="clearfix"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph perseus-paragraph-centered" data-perseus-paragraph-index="0"><hr/></div><div class="paragraph" data-perseus-paragraph-index="1"><div class="paragraph">ğŸ™‹ğŸ½ğŸ™‹ğŸ»â€â™€ï¸ğŸ™‹ğŸ¿â€â™‚ï¸Do you have any questions about this topic? We'd love to answerâ€”just ask in the questions area below! <div class="perseus-widget-container widget-nohighlight widget-inline"><div class="_167wsvl"><div class="_pupwzyp"><a aria-expanded="false" class="_13sgcdp7 _7n4oib" href="javascript:void(0)" role="button" tabindex="0">[Where is it?]</a></div></div></div></div></div></div></div></div>
</div>
</body>
</html>
