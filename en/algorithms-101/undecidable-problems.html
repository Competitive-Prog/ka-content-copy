
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Undecidable problems | AP CSP (article) | Khan Academy</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
  <style>
.paragraph {
  margin: 10px 0px;
}
img {
  max-width: 600px;
}
.perseus-sr-only {
  display: none;
}
li.perseus-radio-option {
  list-style-type: none;
}
  </style>
</head>
<body>
<div class="container container-md">
<h1>Undecidable problems | AP CSP (article) | Khan Academy</h1>
<div class="framework-perseus perseus-article bibliotron-article"><div class="clearfix"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph" data-perseus-paragraph-index="0"><div class="paragraph">Some problems take a very long time to solve, so we use algorithms that give approximate solutions. There are some problems that a computer can <em>never</em> solve, even the world's most powerful computer with infinite time: the undecidable problems.</div></div><div class="paragraph" data-perseus-paragraph-index="1"><div class="paragraph">An <strong>undecidable problem</strong> is one that should give a "yes" or "no" answer, but yet no algorithm exists that can answer correctly on all inputs. </div></div></div></div><div class="clearfix"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph" data-perseus-paragraph-index="0"><h3>The halting problem</h3></div><div class="paragraph" data-perseus-paragraph-index="1"><div class="paragraph">Alan Turing proved the existence of undecidable problems in 1936 by finding an example, the now famous "halting problem":</div></div><div class="paragraph" data-perseus-paragraph-index="2"><div class="paragraph"><em>Based on its code and an input, will a particular program ever finish running?</em></div></div><div class="paragraph" data-perseus-paragraph-index="3"><div class="paragraph">For example, consider this program that counts down:</div></div><div class="paragraph perseus-paragraph-centered" data-perseus-paragraph-index="4"><pre><code>num ← 10
REPEAT UNTIL (num = 0) {
  DISPLAY(num)
  num ← num - 1
}</code></pre></div><div class="paragraph" data-perseus-paragraph-index="5"><div class="paragraph">That program will halt, since <code>num</code> eventually becomes 0. </div></div><div class="paragraph" data-perseus-paragraph-index="6"><div class="paragraph">Compare that to this program that counts up:</div></div><div class="paragraph perseus-paragraph-centered" data-perseus-paragraph-index="7"><pre><code>num ← 1
REPEAT UNTIL (num = 0) {
  DISPLAY(num)
  num ← num + 1
}</code></pre></div><div class="paragraph" data-perseus-paragraph-index="8"><div class="paragraph">It counts up <em>forever</em>, since <code>num</code> will never equal 0.</div></div><div class="paragraph" data-perseus-paragraph-index="9"><div class="paragraph">Algorithms <em>do</em> exist that can correctly predict that the first program halts and the second program never does. These are simple programs which don't change based on different inputs.</div></div></div></div><div class="clearfix"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph" data-perseus-paragraph-index="0"><div class="paragraph">However, no algorithm exists that can analyze <em>any</em> program's code and determine whether it halts or not.</div></div><div class="paragraph" data-perseus-paragraph-index="1"><div class="paragraph">In order to prove that such an algorithm cannot possibly exist, Turing used a "proof of contradiction". </div></div><div class="paragraph" data-perseus-paragraph-index="2"><div class="paragraph">We start by imagining that an algorithm <em>does</em> exist that can determine a program's haltability.</div></div><div class="paragraph" data-perseus-paragraph-index="3"><div class="paragraph">Then we propose a program called <code>HaltChecker</code> that takes two inputs, a program's code and an input for that program. It then uses that hypothetical haltability algorithm to return either "halts" or "never".</div></div><div class="paragraph" data-perseus-paragraph-index="4"><div class="paragraph">This flow chart visualizes <code>HaltChecker</code>:</div></div><div class="paragraph" data-perseus-paragraph-index="5"><div class="paragraph"><div class="perseus-widget-container widget-nohighlight widget-block"><div class="perseus-image-widget"><div class="fixed-to-responsive svg-image" style="max-width: 475px; max-height: 347px;"><img alt='A diagram of the halt checking program. A box is shown with two inputs, program P and input I. Inside the box is a flow chart which starts with a diamond condition "Will program P halt with input Y?". An arrow labeled true leads to "RETURN "halts"" and an arrow labeled false leads to "RETURN "never"".' aria-hidden="true" src="https://cdn.kastatic.org/ka-perseus-images/fcdeac5acf0be3a2b7b9aebd5b30b711ddcbb8fb.svg" tabindex="0"/></div><span class="perseus-sr-only"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph" data-perseus-paragraph-index="0"><div class="paragraph">A diagram of the halt checking program. A box is shown with two inputs, program P and input I. Inside the box is a flow chart which starts with a diamond condition "Will program P halt with input Y?". An arrow labeled true leads to "RETURN "halts"" and an arrow labeled false leads to "RETURN "never"".</div></div></div></span></div></div></div></div><div class="paragraph" data-perseus-paragraph-index="6"><div class="paragraph">If we input those earlier programs into <code>HaltChecker</code>, we'd see the counting-down program results in "halts" and the counting-up program results in "never". Note that it's not actually <em>running</em> the programs, it's looking at their code and deciding based on the code structure.</div></div></div></div><div class="clearfix"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph" data-perseus-paragraph-index="0"><div class="paragraph">But now we propose a program called <code>Reverser</code>. It takes a single input, a program's code. It sends <code>HaltChecker</code> that program as both the program to analyze and the input for the program. <code>HaltChecker</code> then determines if the input program halts when given itself as input. If <code>HaltChecker</code> returns "halts", <code>Reverser</code> runs an infinite loop. If <code>HaltChecker</code> returns "never", <code>Reverser</code> immediately returns.</div></div><div class="paragraph" data-perseus-paragraph-index="1"><div class="paragraph">This flow chart visualizes <code>Reverser</code>:</div></div><div class="paragraph" data-perseus-paragraph-index="2"><div class="paragraph"><div class="perseus-widget-container widget-nohighlight widget-block"><div class="perseus-image-widget"><div class="fixed-to-responsive svg-image" style="max-width: 468px; max-height: 472px;"><div style="padding-bottom: 100.85%;"></div><img alt='A diagram of the reverser program. An outer box is shown with one input, program P. Inside the outer box, the input flows into the two inputs for the halt checker program, program P and input I. They flow into an inner box with a flow chart. It starts with a diamond condition "Will program P halt with input Y?". An arrow labeled true leads to "RETURN "halts"" and an arrow labeled false leads to "RETURN "never"". An arrow labeled "halts" flows out of the box from "RETURN "halts"" and into a "LOOP" node with an arrow that points back to itself. Another arrow labeled "never" flows out of the box from "RETURN "never"" and into an "END" node.' aria-hidden="true" src="https://cdn.kastatic.org/ka-perseus-images/4ae2c92f404e3b3f23b63ce77ac603db2fc45f6d.svg" tabindex="0"/></div><span class="perseus-sr-only"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph" data-perseus-paragraph-index="0"><div class="paragraph">A diagram of the reverser program. An outer box is shown with one input, program P. Inside the outer box, the input flows into the two inputs for the halt checker program, program P and input I. They flow into an inner box with a flow chart. It starts with a diamond condition "Will program P halt with input Y?". An arrow labeled true leads to "RETURN "halts"" and an arrow labeled false leads to "RETURN "never"". An arrow labeled "halts" flows out of the box from "RETURN "halts"" and into a "LOOP" node with an arrow that points back to itself. Another arrow labeled "never" flows out of the box from "RETURN "never"" and into an "END" node.</div></div></div></span></div></div></div></div></div></div><div class="clearfix"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph" data-perseus-paragraph-index="0"><div class="paragraph">If we input the counting-down program into <code>Reverser</code>, it will see that <code>HaltChecker</code> returns "halts" and thus decide to loop infinitely.</div></div><div class="paragraph" data-perseus-paragraph-index="1"><div class="paragraph"><div class="perseus-widget-container widget-nohighlight widget-block"><div class="perseus-image-widget"><div class="fixed-to-responsive svg-image" style="max-width: 468px; max-height: 472px;"><div style="padding-bottom: 100.85%;"></div><img alt='A diagram of the reverser program. An outer box is shown with one input, CountDown. Inside the outer box, the input flows into the two inputs for the halt checker program. Those inputs flow into an inner box with a flow chart. It starts with a diamond condition "Will CountDown halt with input CountDown?". A highlighted arrow labeled true leads to "RETURN "halts"" and a faded arrow labeled false leads to "RETURN "never"". A highlighted arrow labeled "halts" flows out of the box from "RETURN "halts"" and into a "LOOP" node with an arrow that points back to itself. A faded arrow labeled "never" flows out of the box from "RETURN "never"" and into an "END" node.' aria-hidden="true" src="https://cdn.kastatic.org/ka-perseus-images/de27e2e9384a569a482473b3160370d086dbbf79.svg" tabindex="0"/></div><span class="perseus-sr-only"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph" data-perseus-paragraph-index="0"><div class="paragraph">A diagram of the reverser program. An outer box is shown with one input, CountDown. Inside the outer box, the input flows into the two inputs for the halt checker program. Those inputs flow into an inner box with a flow chart. It starts with a diamond condition "Will CountDown halt with input CountDown?". A highlighted arrow labeled true leads to "RETURN "halts"" and a faded arrow labeled false leads to "RETURN "never"". A highlighted arrow labeled "halts" flows out of the box from "RETURN "halts"" and into a "LOOP" node with an arrow that points back to itself. A faded arrow labeled "never" flows out of the box from "RETURN "never"" and into an "END" node.</div></div></div></span></div></div></div></div><div class="paragraph" data-perseus-paragraph-index="2"><div class="paragraph">If we input the counting-up program into <code>Reverser</code>, it will see that <code>HaltChecker</code> returns "never" and thus decide to return immediately.</div></div><div class="paragraph" data-perseus-paragraph-index="3"><div class="paragraph"><div class="perseus-widget-container widget-nohighlight widget-block"><div class="perseus-image-widget"><div class="fixed-to-responsive svg-image" style="max-width: 468px; max-height: 472px;"><div style="padding-bottom: 100.85%;"></div><img alt='A diagram of the reverser program. An outer box is shown with one input, CountUp. Inside the outer box, the input flows into the two inputs for the halt checker program. Those inputs flow into an inner box with a flow chart. It starts with a diamond condition "Will CountUp halt with input CountUp?". A faded arrow labeled true leads to "RETURN "halts"" and a highlighted arrow labeled false leads to "RETURN "never"". A faded arrow labeled "halts" flows out of the box from "RETURN "halts"" and into a "LOOP" node with an arrow that points back to itself. A highlighted arrow labeled "never" flows out of the box from "RETURN "never"" and into an "END" node.' aria-hidden="true" src="https://cdn.kastatic.org/ka-perseus-images/b1449686f5ab8c24fe9a06422eda2ab2fbf56e6f.svg" tabindex="0"/></div><span class="perseus-sr-only"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph" data-perseus-paragraph-index="0"><div class="paragraph">A diagram of the reverser program. An outer box is shown with one input, CountUp. Inside the outer box, the input flows into the two inputs for the halt checker program. Those inputs flow into an inner box with a flow chart. It starts with a diamond condition "Will CountUp halt with input CountUp?". A faded arrow labeled true leads to "RETURN "halts"" and a highlighted arrow labeled false leads to "RETURN "never"". A faded arrow labeled "halts" flows out of the box from "RETURN "halts"" and into a "LOOP" node with an arrow that points back to itself. A highlighted arrow labeled "never" flows out of the box from "RETURN "never"" and into an "END" node.</div></div></div></span></div></div></div></div><div class="paragraph" data-perseus-paragraph-index="4"><div class="paragraph"><code>Reverser</code> is a strange program indeed. It halts when it finds out that another program <em>doesn't</em> halt and likes to go on forever when it finds out another program <em>does</em> halt. That's weird but that's okay, strange programs are allowed in the world.</div></div></div></div><div class="clearfix"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph" data-perseus-paragraph-index="0"><div class="paragraph">But here's where it all falls apart: what happens if we input <code>Reverser</code> <em>itself</em> into <code>Reverser</code>? </div></div><div class="paragraph" data-perseus-paragraph-index="1"><div class="paragraph"><code>HaltChecker</code> analyzes the <code>Reverser</code> code to determine whether it halts. If it decides that it doesn't halt, then it returns "never". <code>Reverser</code> sees that result and returns immediately.</div></div><div class="paragraph" data-perseus-paragraph-index="2"><div class="paragraph"><div class="perseus-widget-container widget-nohighlight widget-block"><div class="perseus-image-widget"><div class="fixed-to-responsive svg-image" style="max-width: 468px; max-height: 472px;"><div style="padding-bottom: 100.85%;"></div><img alt='A diagram of the reverser program. An outer box is shown with one input, Reverser. Inside the outer box, the input flows into the two inputs for the halt checker program. Those inputs flow into an inner box with a flow chart. It starts with a diamond condition "Will Reverser halt with input Reverser?". A faded arrow labeled true leads to "RETURN "halts"" and a highlighted arrow labeled false leads to "RETURN "never"". A faded arrow labeled "halts" flows out of the box from "RETURN "halts"" and into a "LOOP" node with an arrow that points back to itself. A highlighted arrow labeled "never" flows out of the box from "RETURN "never"" and into an "END" node.' aria-hidden="true" src="https://cdn.kastatic.org/ka-perseus-images/817fc07601ea4c4b9d5c97e25928fc6de46823e2.svg" tabindex="0"/></div><span class="perseus-sr-only"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph" data-perseus-paragraph-index="0"><div class="paragraph">A diagram of the reverser program. An outer box is shown with one input, Reverser. Inside the outer box, the input flows into the two inputs for the halt checker program. Those inputs flow into an inner box with a flow chart. It starts with a diamond condition "Will Reverser halt with input Reverser?". A faded arrow labeled true leads to "RETURN "halts"" and a highlighted arrow labeled false leads to "RETURN "never"". A faded arrow labeled "halts" flows out of the box from "RETURN "halts"" and into a "LOOP" node with an arrow that points back to itself. A highlighted arrow labeled "never" flows out of the box from "RETURN "never"" and into an "END" node.</div></div></div></span></div></div></div></div><div class="paragraph" data-perseus-paragraph-index="3"><div class="paragraph">But, wait a second! <code>HaltChecker</code> just claimed that <code>Reverser</code> never halts, and then it went ahead and halted. <code>HaltChecker</code> did <em>not</em> give us a correct answer.</div></div><div class="paragraph" data-perseus-paragraph-index="4"><div class="paragraph">What if <code>HaltChecker</code> returns "halts" instead? When <code>Reverser</code> sees that result, it loops infinitely. </div></div><div class="paragraph" data-perseus-paragraph-index="5"><div class="paragraph"><div class="perseus-widget-container widget-nohighlight widget-block"><div class="perseus-image-widget"><div class="fixed-to-responsive svg-image" style="max-width: 468px; max-height: 472px;"><div style="padding-bottom: 100.85%;"></div><img alt='A diagram of the reverser program. An outer box is shown with one input, Reverser. Inside the outer box, the input flows into the two inputs for the halt checker program. Those inputs flow into an inner box with a flow chart. It starts with a diamond condition "Will Reverser halt with input Reverser?". A highlighted arrow labeled true leads to "RETURN "halts"" and a faded arrow labeled false leads to "RETURN "never"". A highlighted arrow labeled "halts" flows out of the box from "RETURN "halts"" and into a "LOOP" node with an arrow that points back to itself. A faded arrow labeled "never" flows out of the box from "RETURN "never"" and into an "END" node.' aria-hidden="true" src="https://cdn.kastatic.org/ka-perseus-images/8ea7e7086a4d71b6093900547cb761df6b6fd288.svg" tabindex="0"/></div><span class="perseus-sr-only"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph" data-perseus-paragraph-index="0"><div class="paragraph">A diagram of the reverser program. An outer box is shown with one input, Reverser. Inside the outer box, the input flows into the two inputs for the halt checker program. Those inputs flow into an inner box with a flow chart. It starts with a diamond condition "Will Reverser halt with input Reverser?". A highlighted arrow labeled true leads to "RETURN "halts"" and a faded arrow labeled false leads to "RETURN "never"". A highlighted arrow labeled "halts" flows out of the box from "RETURN "halts"" and into a "LOOP" node with an arrow that points back to itself. A faded arrow labeled "never" flows out of the box from "RETURN "never"" and into an "END" node.</div></div></div></span></div></div></div></div><div class="paragraph" data-perseus-paragraph-index="6"><div class="paragraph"><code>HaltChecker</code> just claimed that <code>Reverser</code> halts, and yet, it went on forever. Once again, <code>HaltChecker</code> did <em>not</em> give us a correct answer. In fact, there's no way for <code>HaltChecker</code> to give us a correct answer in this situation. </div></div><div class="paragraph" data-perseus-paragraph-index="7"><div class="paragraph">Thus, we've proved that a perfectly correct halt-predicting algorithm can <em>never exist</em> and that the halting problem is undecidable.</div></div><div class="paragraph" data-perseus-paragraph-index="8"><div class="paragraph">It took me a while to really understand the halting problem. If you're having some trouble too, this <a class="_8gcxk83" href="https://www.youtube.com/watch?v=92WHN-pAFCs" rel="noopener noreferrer" tabindex="0" target="_blank">animated video</a> might be helpful.</div></div></div></div><div class="clearfix"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph" data-perseus-paragraph-index="0"><h3>More undecidable problems</h3></div><div class="paragraph" data-perseus-paragraph-index="1"><div class="paragraph">Computer scientists and mathematicians have discovered many more undecidable problems. Quite a few of those, once simplified, look like another case of the halting problem. Generally, all the undecidable problems revolve around the difficulty of determining properties about the input and output of programs.</div></div><div class="paragraph" data-perseus-paragraph-index="2"><div class="paragraph">It's helpful to realize when we're dealing with an undecidable problem. We can then accept that our program can't correctly answer yes or no on all inputs, and come up with a different approach. </div></div><div class="paragraph" data-perseus-paragraph-index="3"><div class="paragraph">For example, our Khan Academy programming environment tries to avoid running programs with infinite loops, to prevent the poor browser from freezing. But how can we know that a program has an infinite loop? We can't, that's undecidable! Instead, we monitor how long loops take, and when a loop takes too long, we refuse to run the code. We can't know for sure if that loop was going to go on forever, but for our purposes, it's better to be safe than sorry.</div></div></div></div><div class="clearfix"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph perseus-paragraph-centered" data-perseus-paragraph-index="0"><hr/></div><div class="paragraph" data-perseus-paragraph-index="1"><div class="paragraph">🙋🏽🙋🏻‍♀️🙋🏿‍♂️Do you have any questions about this topic? We'd love to answer—just ask in the questions area below! <div class="perseus-widget-container widget-nohighlight widget-inline"><div class="_167wsvl"><div class="_pupwzyp"><a aria-expanded="false" class="_13sgcdp7 _7n4oib" href="javascript:void(0)" role="button" tabindex="0">[Where is it?]</a></div></div></div></div></div></div></div></div>
</div>
</body>
</html>
