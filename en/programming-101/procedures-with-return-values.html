
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Procedures with return values | AP CSP (article) | Khan Academy</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
  <style>
.paragraph {
  margin: 10px 0px;
}
img {
  max-width: 600px;
}
.perseus-sr-only {
  display: none;
}
li.perseus-radio-option {
  list-style-type: none;
}
  </style>
</head>
<body>
<div class="container container-md">
<h1>Procedures with return values | AP CSP (article) | Khan Academy</h1>
<div class="framework-perseus perseus-article bibliotron-article"><div class="clearfix"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph" data-perseus-paragraph-index="0"><div class="paragraph">Procedures can compute values for the rest of the program to use by sending back <strong>return values</strong>.</div></div></div></div><div class="clearfix"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph" data-perseus-paragraph-index="0"><h2>The need for return values</h2></div><div class="paragraph" data-perseus-paragraph-index="1"><div class="paragraph">Our example procedures so far have all had <strong>side effects</strong>. That means they've affected their environment in some way, like the way that <code>println()</code> displays output on the screen.</div></div><div class="paragraph perseus-paragraph-centered" data-perseus-paragraph-index="2"><pre><code>var score  = (numCorrect/30) * 100;
println(score);</code></pre></div><div class="paragraph" data-perseus-paragraph-index="3"><div class="paragraph">Many times, we don't want to immediately display a value to the screen. Instead, we want to remember the result of a calculation and use it in the future somehow. In that case, we tell the procedure to <strong>return</strong> a value to the code that called it.</div></div><div class="paragraph" data-perseus-paragraph-index="4"><div class="paragraph">In the JavaScript language, we can return values from a function by typing <code>return</code> followed by an expression to return.</div></div><div class="paragraph perseus-paragraph-centered" data-perseus-paragraph-index="5"><pre><code>function calcScore(numCorrect) {
   var score  = (numCorrect/30) * 100;
   return score;
}</code></pre></div><div class="paragraph" data-perseus-paragraph-index="6"><div class="paragraph">Now that the function returns a value, we can use store its result in a variable, like this:</div></div><div class="paragraph perseus-paragraph-centered" data-perseus-paragraph-index="7"><pre><code>var sallyScore = calcScore(27);
var wilburScore = calcScore(24);</code></pre></div><div class="paragraph" data-perseus-paragraph-index="8"><div class="paragraph">We can also directly call the function inside other functions:</div></div><div class="paragraph perseus-paragraph-centered" data-perseus-paragraph-index="9"><pre><code>println(calcScore(27));
println(calcScore(24));</code></pre></div><div class="paragraph" data-perseus-paragraph-index="10"><div class="paragraph">Or we can call the function inside a larger expression:</div></div><div class="paragraph perseus-paragraph-centered" data-perseus-paragraph-index="11"><pre><code>println("Sally earned: " + calcScore(27));
println("Wilbur earned: " + calcScore(24));</code></pre></div><div class="paragraph" data-perseus-paragraph-index="12"><div class="paragraph">üìù See similar code in: <a class="_8gcxk83" href="https://studio.code.org/projects/applab/_cgk_VBd_pCEwdGA6-WkuIJj7D8i2peUCpJZScDQAq4/view" rel="noopener noreferrer" tabindex="0" target="_blank">App Lab</a> | <a class="_8gcxk83" href="https://snap.berkeley.edu/snapsource/snap.html#present:Username=pamela-ka&amp;ProjectName=Procedures%20with%20return%20values%3A%20Score%20reporter&amp;editMode" rel="noopener noreferrer" tabindex="0" target="_blank">Snap</a> | <a class="_8gcxk83" href="https://repl.it/@PamelaFox1/ProceduresReturnValuesScoreReporter" rel="noopener noreferrer" tabindex="0" target="_blank">Python</a></div></div><div class="paragraph" data-perseus-paragraph-index="13"><div class="paragraph">Our call to <code>calcScore()</code> always returns a value, so we can use it <em>anywhere</em> that expects a value. That's a lot of places!</div></div><div class="paragraph" data-perseus-paragraph-index="14"><div class="paragraph">In fact, we've already been using a number of built-in procedures that return values, like for math and string operations:</div></div><div class="paragraph perseus-paragraph-centered" data-perseus-paragraph-index="15"><pre><code>var maxNum = Math.max(33, 100);
var firstName = "Harry Potter".substr(0, 5);
var yell = "im hungry".toUpperCase();`</code></pre></div><div class="paragraph" data-perseus-paragraph-index="16"><div class="paragraph">Now, we know how to define our <em>own</em> procedures with return values, and we can build up a library of useful procedures that compute values for our program's needs.</div></div><div class="paragraph" data-perseus-paragraph-index="17"><div class="paragraph">‚úèÔ∏è The program below calculates how many "me" would need to be stacked to reach certain heights, like the moon or the statue of liberty. Change it to calculate the number of "you" instead and add another structure, like Mt. Everest or the sun.</div></div><div class="paragraph" data-perseus-paragraph-index="18"><div class="paragraph"><div class="perseus-widget-container widget-nohighlight widget-block"><div class="_1vdzrqd"><pre>// Converts inches to meters
function inchesToMeters(inches) {
    return inches * 0.0254;
}

// Calculates number of me to equal height of the object 
function towerOfMe(myHeightM, objHeightM) {
    return objHeightM / myHeightM;
}

var myHeightM = inchesToMeters(68);

var moonDistM = 384400000;
println(towerOfMe(myHeightM, moonDistM));

var statueLibertyM = 93;
println(towerOfMe(myHeightM, statueLibertyM));

var tallestBuildingM = 830;
println(towerOfMe(myHeightM, tallestBuildingM));

</pre></div></div></div></div><div class="paragraph" data-perseus-paragraph-index="19"><div class="paragraph">üìù See similar code in: <a class="_8gcxk83" href="https://studio.code.org/projects/applab/73W-5UHYy4b9I42Hwm8G1cVqPNPzQw8pUIcXrUHUIZI/view" rel="noopener noreferrer" tabindex="0" target="_blank">App Lab</a> | <a class="_8gcxk83" href="https://snap.berkeley.edu/snapsource/snap.html#present:Username=pamela-ka&amp;ProjectName=Procedures%20with%20return%20values%3A%20Tower%20of%20me&amp;editMode" rel="noopener noreferrer" tabindex="0" target="_blank">Snap</a> | <a class="_8gcxk83" href="https://repl.it/@PamelaFox1/ProceduresReturnValuesTowerOfMe" rel="noopener noreferrer" tabindex="0" target="_blank">Python</a></div></div></div></div><div class="clearfix"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph" data-perseus-paragraph-index="0"><h2>Watch out for early returns</h2></div><div class="paragraph" data-perseus-paragraph-index="1"><div class="paragraph">The following bit of code has a bug:</div></div><div class="paragraph perseus-paragraph-centered" data-perseus-paragraph-index="2"><pre><code>function calcLineSlope(x1, y1, x2, y2) {
    var yDiff = y2 - y1;
    var xDiff = x2 - x1;
    return slope;
    var slope = yDiff / xDiff;
}</code></pre></div><div class="paragraph" data-perseus-paragraph-index="3"><div class="paragraph">Do you see what it is? Here's a hint: whenever the computer executes a <code>return</code> statement, it exits the function immediately. Once it's exited the function, it won't execute any more code in the function.</div></div><div class="paragraph" data-perseus-paragraph-index="4"><div class="paragraph">That means that the computer only executes this code:</div></div><div class="paragraph perseus-paragraph-centered" data-perseus-paragraph-index="5"><pre><code>function calcLineSlope(x1, y1, x2, y2) {
    var yDiff = y2 - y1;
    var xDiff = x2 - x1;
    return slope;
}</code></pre></div><div class="paragraph" data-perseus-paragraph-index="6"><div class="paragraph">It never gets to the line that calculates the slope, so it returns an undefined value to whoever calls it. The line of code after it is "dead code", code that will never ever be executed.</div></div><div class="paragraph" data-perseus-paragraph-index="7"><div class="paragraph">In the correct version of the code, the return statement is the very last line in the function:</div></div><div class="paragraph perseus-paragraph-centered" data-perseus-paragraph-index="8"><pre><code>function calcLineSlope(x1, y1, x2, y2) {
    var yDiff = y2 - y1;
    var xDiff = x2 - x1;    
    var slope = yDiff / xDiff;
    return slope;
}</code></pre></div><div class="paragraph" data-perseus-paragraph-index="9"><div class="paragraph">üìù See similar code in: <a class="_8gcxk83" href="https://studio.code.org/projects/applab/pJ4TwGpFbKEapayk5dPiKGk7crV9kfBBrsP2FUa0GGY/view" rel="noopener noreferrer" tabindex="0" target="_blank">App Lab</a> | <a class="_8gcxk83" href="https://snap.berkeley.edu/snapsource/snap.html#present:Username=pamela-ka&amp;ProjectName=Procedures%20with%20return%20values%3A%20Slope%20calculator&amp;editMode" rel="noopener noreferrer" tabindex="0" target="_blank">Snap</a> | <a class="_8gcxk83" href="https://repl.it/@PamelaFox1/ProceduresReturnValuesSlopeCalculator" rel="noopener noreferrer" tabindex="0" target="_blank">Python</a></div></div></div></div><div class="clearfix"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph" data-perseus-paragraph-index="0"><h2>Return values in pseudocode</h2></div><div class="paragraph" data-perseus-paragraph-index="1"><div class="paragraph"><div class="perseus-widget-container widget-nohighlight widget-inline"><div class="_167wsvl"><div class="_pupwzyp"><a aria-expanded="false" class="_13sgcdp7 _7n4oib" href="javascript:void(0)" role="button" tabindex="0">[What's pseudocode?]</a></div></div></div></div></div><div class="paragraph" data-perseus-paragraph-index="2"><div class="paragraph">This pseudocode represents a procedure that takes two parameters named <code>parameter1</code> and <code>parameter2</code>, contains programming instructions, and then returns the value of <code>expression</code>.</div></div><div class="paragraph perseus-paragraph-centered" data-perseus-paragraph-index="3"><pre><code>PROCEDURE name (parameter1, parameter2)
{
     &lt;instructions&gt;
    RETURN (expression)
}</code></pre></div><div class="paragraph" data-perseus-paragraph-index="4"><div class="paragraph">Here's pseudocode for the <code>calcLineSlope</code> procedure and calls:</div></div><div class="paragraph perseus-paragraph-centered" data-perseus-paragraph-index="5"><pre><code>PROCEDURE calcLineSlope (x1, y1, x2, y2) 
{
    yDiff ‚Üê y2 - y1
    xDiff ‚Üê x2 - x1    
    slope ‚Üê yDiff / xDiff
    RETURN slope
}

slope1 ‚Üê calcLineSlope(1, 2, 4, 5)
slope2 ‚Üê calcLineSlope(0, -1, 3, 10)</code></pre></div></div></div><div class="clearfix"><div class="perseus-renderer perseus-renderer-responsive"><div class="paragraph perseus-paragraph-centered" data-perseus-paragraph-index="0"><hr/></div><div class="paragraph" data-perseus-paragraph-index="1"><div class="paragraph">üôãüèΩüôãüèª‚Äç‚ôÄÔ∏èüôãüèø‚Äç‚ôÇÔ∏èDo you have any questions about this topic? We'd love to answer‚Äî just ask in the questions area below! <div class="perseus-widget-container widget-nohighlight widget-inline"><div class="_167wsvl"><div class="_pupwzyp"><a aria-expanded="false" class="_13sgcdp7 _7n4oib" href="javascript:void(0)" role="button" tabindex="0">[Where is it?]</a></div></div></div></div></div></div></div></div>
</div>
</body>
</html>
